(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(4),c=n.n(s),o=(n(11),n(2)),i=n.p+"static/media/Vector.c7581985.svg",l=n(0);var d=function(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("img",{className:"header__vector",alt:"Around The U.S.",id:"vector-image",src:i})})};var u=function(e){return Object(l.jsxs)("div",{className:"element",children:[Object(l.jsx)("button",{className:"element__delete-button",type:"button"}),Object(l.jsx)("img",{className:"element__image",src:e.card.link,alt:e.card.name,onClick:function(){e.onCardClick(e.card)}}),Object(l.jsxs)("div",{className:"element__info",children:[Object(l.jsx)("h2",{className:"element__text",children:e.card.name}),Object(l.jsxs)("div",{className:"element__like-container",children:[Object(l.jsx)("button",{className:"element__button",type:"button"}),Object(l.jsx)("p",{className:"element__likes",children:e.card.likes.length})]})]})]})};var m=function(e){var t=e.onEditAvatarClick,n=e.onEditProfileClick,a=e.onAddPlaceClick,r=e.cards,s=e.onCardClick,c=e.currentUser;return Object(l.jsxs)("main",{className:"content",children:[Object(l.jsxs)("section",{className:"profile",children:[Object(l.jsxs)("div",{className:"profile__avatar-container",children:[Object(l.jsx)("img",{className:"profile__avatar",src:c?c.avatar:"",alt:"Cousteau Image",id:"cousteau-image"}),Object(l.jsx)("div",{className:"profile__overlay",children:Object(l.jsx)("button",{onClick:t,className:"profile__avatar-button",type:"button",name:"avatar"})})]}),Object(l.jsxs)("div",{className:"profile__info",children:[Object(l.jsx)("h1",{className:"profile__name",children:c?c.name:""}),Object(l.jsx)("button",{onClick:n,className:"profile__edit-button",type:"button",name:"edit"}),Object(l.jsx)("p",{className:"profile__occupation",children:c?c.about:""})]}),Object(l.jsx)("button",{onClick:a,className:"profile__add-button",type:"button",name:"add"})]}),Object(l.jsx)("section",{className:"elements",children:Object(l.jsx)(l.Fragment,{children:r.map((function(e){return Object(l.jsx)(u,{card:e,onCardClick:s},e._id)}))})})]})};var j=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("p",{className:"footer__text",children:"\xa9 2020 Around The U.S."})})};var h=function(e){var t=e.name,n=e.isOpen,a=e.title,r=e.onClose,s=e.buttonText,c=e.children;return Object(l.jsx)("div",{className:"modal modal_type_".concat(t," ").concat(n?"modal_open":""),onClick:r,children:Object(l.jsx)("div",{className:"modal__container",children:Object(l.jsxs)("form",{name:"profile",className:"modal__profile modal__".concat(t),children:[Object(l.jsx)("h3",{className:"modal__title",children:a}),c,Object(l.jsx)("button",{className:"modal__form-submit",type:"submit",children:s}),Object(l.jsx)("button",{className:"modal__close-button modal__close-button_profile",type:"reset",name:"close",onClick:r})]})})})};var _=function(e){var t=e.isOpen,n=e.onClose;return Object(l.jsxs)(h,{name:"avatar",title:"Change Profile Picture",buttonText:"Save",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault()},children:[Object(l.jsx)("input",{id:"newAvatarURL",name:"newAvatarURL",type:"url",required:!0,placeholder:"Image link",className:"modal__text-input modal__text-input_type_url"}),Object(l.jsx)("span",{id:"newAvatarURL-error",className:"modal__error"})]})};var b=function(e){var t=e.isOpen,n=e.onClose;return Object(l.jsxs)(h,{name:"profile",title:"Edit Profile",buttonText:"Save",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault()},children:[Object(l.jsx)("input",{id:"name",name:"name",type:"text",className:"modal__text-input modal__text-input_type_name",required:!0,placeholder:"Name",minLength:2,maxLength:40}),Object(l.jsx)("span",{id:"name-error",className:"modal__error"}),Object(l.jsx)("input",{id:"occupation",name:"occupation",type:"text",placeholder:"About Me",required:!0,className:"modal__text-input modal__text-input_type_occupation",minLength:2,maxLength:200}),Object(l.jsx)("span",{id:"occupation-error",className:"modal__error"})]})};var p=function(e){var t=e.isOpen,n=e.onClose;return Object(l.jsxs)(h,{name:"add-card",title:"New Place",buttonText:"Create",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault()},children:[Object(l.jsx)("input",{id:"newCardTitle",name:"newCardTitle",type:"text",className:"modal__text-input modal__text-input_type_name",required:!0,placeholder:"Title",minLength:1,maxLength:30}),Object(l.jsx)("span",{id:"newCardTitle-error",className:"modal__error"}),Object(l.jsx)("input",{id:"newCardURL",name:"newCardURL",type:"url",placeholder:"Image link",required:!0,className:"modal__text-input modal__text-input_type_url"}),Object(l.jsx)("span",{id:"newCardURL-error",className:"modal__error"})]})};var f=function(e){return Object(l.jsx)("div",{className:"modal modal_type_preview ".concat(e.isOpen?"modal_open":""),children:Object(l.jsxs)("div",{className:"modal__container modal__container_preview",children:[Object(l.jsx)("button",{className:"modal__close-button modal__close-button_preview",type:"reset",name:"close",onClick:e.onClose}),Object(l.jsxs)("figure",{className:"modal__image-container",children:[Object(l.jsx)("img",{className:"modal__image",alt:"Card Image",src:e.card?e.card.link:"#"}),Object(l.jsx)("figcaption",{className:"modal__image-caption",children:e.card?e.card.name:""})]})]})})},O=n(5),v=n(6),x=new(function(){function e(t){var n=t.baseURL,a=t.headers;Object(O.a)(this,e),this._baseURL=n,this._headers=a}return Object(v.a)(e,[{key:"_checkServerResponse",value:function(e){return e.ok?e.json():Promise.reject("Error"+e.statusText)}},{key:"getInitialCards",value:function(){var e=this;return fetch(this._baseURL+"/cards",{headers:this._headers}).then((function(t){return e._checkServerResponse(t)}))}},{key:"getUserInfo",value:function(){var e=this;return fetch(this._baseURL+"/users/me",{headers:this._headers}).then((function(t){return e._checkServerResponse(t)}))}},{key:"getAppInfo",value:function(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}},{key:"addCard",value:function(e){var t=this,n=e.name,a=e.link;return fetch(this._baseURL+"/cards",{headers:this._headers,method:"POST",body:JSON.stringify({name:n,link:a})}).then((function(e){return t._checkServerResponse(e)}))}},{key:"removeCard",value:function(e){var t=this;return fetch(this._baseURL+"/cards/"+e,{headers:this._headers,method:"DELETE"}).then((function(e){return t._checkServerResponse(e)}))}},{key:"addLike",value:function(e){var t=this;return fetch(this._baseURL+"/cards/likes/"+e,{headers:this._headers,method:"PUT"}).then((function(e){return t._checkServerResponse(e)}))}},{key:"removeLike",value:function(e){var t=this;return fetch(this._baseURL+"/cards/likes/"+e,{headers:this._headers,method:"DELETE"}).then((function(e){return t._checkServerResponse(e)}))}},{key:"setUserInfo",value:function(e){var t=this,n=e.name,a=e.about;return fetch(this._baseURL+"/users/me/",{method:"PATCH",headers:{authorization:"f3cf689f-e903-4b5b-9d77-2b0b4048d455","Content-Type":"application/json"},body:JSON.stringify({name:n,about:a})}).then((function(e){return t._checkServerResponse(e)}))}},{key:"setUserAvatar",value:function(e){var t=this;return fetch(this._baseURL+"/users/me/avatar/",{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((function(e){return t._checkServerResponse(e)}))}}]),e}())({baseURL:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"f3cf689f-e903-4b5b-9d77-2b0b4048d455","Content-Type":"application/json"}});var C=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),i=Object(o.a)(c,2),u=i[0],O=i[1],v=Object(a.useState)(!1),C=Object(o.a)(v,2),k=C[0],N=C[1],g=Object(a.useState)(!1),y=Object(o.a)(g,2),L=y[0],S=y[1],U=Object(a.useState)([]),R=Object(o.a)(U,2),T=R[0],w=R[1],P=Object(a.useState)(null),A=Object(o.a)(P,2),E=A[0],I=A[1],D=Object(a.useState)(null),q=Object(o.a)(D,2),F=q[0],J=q[1];function z(){s(!1),O(!1),N(!1),S(!1),I(null)}function B(e){e.target===e.currentTarget&&z()}return r.a.useEffect((function(){x.getInitialCards().then((function(e){w(e)})).catch((function(e){return console.log(e)}))}),[]),r.a.useEffect((function(){x.getUserInfo().then((function(e){J(e)})).catch((function(e){return console.log(e)}))}),[]),Object(l.jsxs)("div",{className:"page",children:[Object(l.jsx)(d,{}),Object(l.jsx)(m,{onEditAvatarClick:function(){s(!0)},onEditProfileClick:function(){O(!0)},onAddPlaceClick:function(){N(!0)},cards:T,onCardClick:function(e){I(e),S(!0)},currentUser:F}),Object(l.jsx)(j,{}),Object(l.jsx)(_,{isOpen:n,onClose:B}),Object(l.jsx)(b,{isOpen:u,onClose:B}),Object(l.jsx)(p,{isOpen:k,onClose:B}),Object(l.jsx)(f,{card:E,isOpen:L,onClose:z}),Object(l.jsx)(h,{name:"delete-card",title:"Are you sure?",buttonText:"Yes"})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(C,{})}),document.getElementById("root")),k()}},[[13,1,2]]]);
//# sourceMappingURL=main.04467aa7.chunk.js.map